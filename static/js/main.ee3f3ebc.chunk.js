(this["webpackJsonpluca-pic"]=this["webpackJsonpluca-pic"]||[]).push([[3],{122:function(e,n,t){},135:function(e,n,t){"use strict";t.r(n);var i,r,s,a,o,c,l,u,f,d,h=t(0),b=t(19),j=t.n(b),p=(t(122),t(8)),g=t(138),O=t(3),v=function(){return Object(O.jsx)(g.a,{})},x=t(15),m=t(35),y=t.p+"static/media/share.b2c80d85.svg",w=t(16),U=t(81),k=w.a.div(i||(i=Object(x.a)(["\n  position: absolute;\n  top: 24px;\n  z-index: 100;\n"]))),F=w.a.img(r||(r=Object(x.a)(["\n  height: 50px;\n"]))),P=Object(w.a)(m.b)(s||(s=Object(x.a)(['\n  padding: 10px 15px;\n  position: relative;\n  &::after {\n    content: "";\n    width: 10px;\n    height: 10px;\n    border: 1px solid #121212;\n    border-width: 0 0 2px 2px;\n    position: absolute;\n    right: 0;\n    top 50%;\n    transform: translate(0, -100%) rotate(-45deg);\n    transition: all 0.3s;\n  }\n  ',":hover &::after  {\n    transform: translate(0, -50%) rotate(135deg);\n  } \n"])),k),L=w.a.div(a||(a=Object(x.a)(["\n  visibility: hidden;\n  opacity: 0;\n  background: #fff;\n  border: 1px solid #121212;\n  border-radius: 4px;\n  position: absolute;\n  top: calc(100% + 5px);\n  padding: 8px 0;\n  left: 50%;\n  transform: translate(-50%);\n  transition: all 0.3s;\n  ",":hover & {\n    visibility: visible;\n    opacity: 1;\n  }\n"])),k),N=Object(w.a)(m.b)(o||(o=Object(x.a)(["\n  padding: 8px 20px;\n  font-size: 15px;\n  display: block;\n  cursor: pointer;\n  &:hover {\n    color: black;\n    background-color: #e8e8e8;\n  }\n  &.active {\n    color: grey;\n  }\n"]))),S=w.a.span(c||(c=Object(x.a)(["\n  font-size: 22px;\n  color: #fff;\n  padding: 0 5px;\n  vertical-align: middle;\n"]))),C=Object(U.a)((function(){return Object(O.jsxs)(k,{children:[Object(O.jsxs)(P,{to:"/",exact:!0,children:[Object(O.jsx)(F,{src:y,alt:"logo"}),Object(O.jsx)(S,{children:"share AWY"})]}),Object(O.jsxs)(L,{className:"dropdown-content",children:[Object(O.jsx)(N,{to:"/history",activeClassName:"active",children:"History"}),Object(O.jsx)(N,{to:"/about",activeClassName:"active",children:"About"})]})]})})),z=t(83),I=t(136),M=t(140),A=t(10),T=w.a.div(l||(l=Object(x.a)(["\n  position: absolute;\n  right: 30px;\n  top: 24px;\n  z-index: 100;\n  box-shadow: 0 0 8px 0 rgb(0 0 0 / 13%);\n  background: #fff;\n  border-radius: 0.3125rem;\n  height: 40px;\n  display: flex;\n"]))),E=w.a.button(u||(u=Object(x.a)(["\n  padding: 10px 15px;\n  border: none;\n  color: #333;\n  outline: none;\n  background-color: transparent;\n  cursor: pointer;\n"]))),B=Object(w.a)(m.b)(f||(f=Object(x.a)(["\n  color: #333;\n  padding: 10px 15px;\n  &.active {\n    color: red;\n  }\n"]))),H=Object(w.a)(I.a)(d||(d=Object(x.a)(["\n  height: 100%;\n"]))),K=Object(A.c)((function(){var e=Object(z.a)(),n=e.UserStore,t=e.AuthStore,i=e.HistoryStore,r=e.ImageStore;return Object(O.jsx)(O.Fragment,{children:n.loggedinUser?Object(O.jsxs)(T,{children:[Object(O.jsx)(E,{onClick:function(){t.logout(),n.resetUser(),i.reset(),r.clearServerFile()},children:"Logout"}),Object(O.jsx)(H,{block:!0,type:"primary",icon:Object(O.jsx)(M.a,{}),children:n.loggedinUser.attributes.username})]}):Object(O.jsxs)(T,{children:[Object(O.jsx)(B,{to:"/login",activeClassName:"active",children:"Login"}),Object(O.jsx)(B,{to:"/register",children:"Create Account"})]})})})),X=Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(7),t.e(9)]).then(t.bind(null,281))})),Y=Object(h.lazy)((function(){return Promise.all([t.e(1),t.e(10)]).then(t.bind(null,267))})),q=Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(6),t.e(8)]).then(t.bind(null,282))})),D=Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(11)]).then(t.bind(null,268))})),J=Object(h.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(12)]).then(t.bind(null,271))}));var Q=function(){return Object(O.jsx)("div",{className:"app",children:Object(O.jsxs)("main",{children:[Object(O.jsx)(C,{}),Object(O.jsx)(K,{}),Object(O.jsx)(h.Suspense,{fallback:Object(O.jsx)(v,{}),children:Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/",exact:!0,component:X}),Object(O.jsx)(p.a,{path:"/history",exact:!0,component:q}),Object(O.jsx)(p.a,{path:"/about",exact:!0,component:Y}),Object(O.jsx)(p.a,{path:"/login",exact:!0,component:D}),Object(O.jsx)(p.a,{path:"/register",exact:!0,component:J})]})})]})})},W=function(e){e&&e instanceof Function&&t.e(13).then(t.bind(null,272)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),i(e),r(e),s(e),a(e)}))};j.a.render(Object(O.jsx)(m.a,{children:Object(O.jsx)(Q,{})}),document.getElementById("root")),W()},83:function(e,n,t){"use strict";var i=t(0),r=t(33),s=t(34),a=t(1),o=t(20),c=t.n(o);c.a.init({appId:"hcF8bWQ68nG85EYEXBV5zKnD-MdYXbMMI",appKey:"zRzygxnrKphnXSIM4Tweq0AN"});var l=function(e,n,t){var i=new o.User;return i.setUsername(e),i.setPassword(n),i.setEmail(t),new Promise((function(e,n){i.signUp().then((function(n){return e(n)}),(function(e){return n(e)}))}))},u=function(e,n){return new Promise((function(t,i){o.User.logIn(e,n).then((function(e){return t(e)}),(function(e){return i(e)}))}))},f=function(){o.User.logOut()},d=function(){return o.User.current()},h={uploadFile:function(e,n){var t=new c.a.Object("Image"),i=new c.a.File(n,e);return t.set("filename",n),t.set("owner",c.a.User.current()),t.set("url",i),new Promise((function(e,n){t.save().then((function(n){e(n)}),(function(e){n(e)}))}))},find:function(e){var n=e.page,t=void 0===n?0:n,i=e.limit,r=void 0===i?10:i,s=new c.a.Query("Image");return s.include("owner"),s.limit(r),s.skip(t*r),s.equalTo("owner",c.a.User.current()),s.descending("createdAt"),new Promise((function(e,n){s.find().then((function(n){e(n)})).catch((function(e){n(e)}))}))}};window.Upload=h;var b=function(){function e(){Object(r.a)(this,e),this.values={username:"asdf",password:"",email:""},Object(a.m)(this,{values:a.n,setUserName:a.f,setPassword:a.f,login:a.f,register:a.f,logout:a.f})}return Object(s.a)(e,[{key:"setUserName",value:function(e){this.values.username=e}},{key:"setPassword",value:function(e){this.values.password=e}},{key:"setEmail",value:function(e){this.values.email=e}},{key:"login",value:function(){var e=this;return new Promise((function(n,t){u(e.values.username,e.values.password).then((function(e){n(e)})).catch((function(e){t(e)}))}))}},{key:"register",value:function(){var e=this;return new Promise((function(n,t){l(e.values.username,e.values.password,e.values.email).then((function(e){n(e)})).catch((function(e){t(e)}))}))}},{key:"logout",value:function(){f()}}]),e}(),j=function(){function e(){Object(r.a)(this,e),this.loggedinUser=null,Object(a.m)(this,{loggedinUser:a.n,setUser:a.f,resetUser:a.f})}return Object(s.a)(e,[{key:"setUser",value:function(){this.loggedinUser=d()}},{key:"resetUser",value:function(){this.loggedinUser=null}}]),e}(),p=function(){function e(){Object(r.a)(this,e),this.fileName="",this.file=null,this.isUploading=!1,this.serverFile=null,Object(a.m)(this,{fileName:a.n,file:a.n,isUploading:a.n,serverFile:a.n,setFileName:a.f,setFile:a.f,uploadFile:a.f,clearServerFile:a.f})}return Object(s.a)(e,[{key:"setFileName",value:function(e){this.fileName=e}},{key:"setFile",value:function(e){this.file=e}},{key:"uploadFile",value:function(){var e=this;return this.isUploading=!0,this.serverFile=null,new Promise((function(n,t){h.uploadFile(e.file,e.fileName).then((function(t){Object(a.o)((function(){e.serverFile=t})),n(t)})).catch((function(e){t(e)})).finally((function(){Object(a.o)((function(){e.isUploading=!1}))}))}))}},{key:"clearServerFile",value:function(){this.serverFile=null}}]),e}(),g=t(114),O=function(){function e(){Object(r.a)(this,e),this.isLoading=!1,this.fileList=[],this.currentPage=0,this.hasMore=!0,this.limit=10,Object(a.m)(this,{isLoading:a.n,fileList:a.n,currentPage:a.n,hasMore:a.n,appenToCurrenList:a.f,findList:a.f,reset:a.f})}return Object(s.a)(e,[{key:"reset",value:function(){this.isLoading=!1,this.fileList=[],this.currentPage=0,this.hasMore=!0}},{key:"appenToCurrenList",value:function(e){this.fileList=this.fileList.concat(e)}},{key:"findList",value:function(){var e=this;this.isLoading=!0,h.find({page:this.currentPage,limit:this.limit}).then((function(n){Object(a.o)((function(){e.appenToCurrenList(n),e.currentPage++,n.length<e.limit&&(e.hasMore=!1)}))})).catch((function(e){g.b.error("loading failed")})).finally((function(){Object(a.o)((function(){e.isLoading=!1}))}))}}]),e}(),v=Object(i.createContext)({AuthStore:new b,UserStore:new j,ImageStore:new p,HistoryStore:new O});n.a=function(){return Object(i.useContext)(v)}}},[[135,4,5]]]);
//# sourceMappingURL=main.ee3f3ebc.chunk.js.map